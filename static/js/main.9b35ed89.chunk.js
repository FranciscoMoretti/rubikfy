(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,a){e.exports=a(291)},113:function(e,t,a){},114:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(46),o=a.n(i),s=(a(113),a(114),a(49)),h=a(15),c=a(6),l=a(16),d=a(17),u=a(7),p=a(18),g=a(103),m=a(301),f=a(303),v=a(67),b=a.n(v),w=a(104),C=a.n(w),M=(a(281),a(282),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={src:null},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return a.setState({src:t.result})})),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"makeClientCrop",value:function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.imageRef&&e.width&&e.height)){a.next=5;break}return a.next=3,b.a.awrap(this.getCroppedImg(this.imageRef,e,"newFile.jpeg"));case 3:t=a.sent,this.setState({croppedImageUrl:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"getCroppedImg",value:function(e,t,a){var n=this,r=document.createElement("canvas"),i=e.naturalWidth/e.width,o=e.naturalHeight/e.height;r.width=t.width,r.height=t.height;var s=r.getContext("2d");s.drawImage(e,t.x*i,t.y*o,t.width*i,t.height*o,0,0,this.props.width,this.props.height);var h=s.getImageData(0,0,this.props.width,this.props.height);return new Promise((function(e,t){r.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(n.fileUrl),n.fileUrl=window.URL.createObjectURL(t),n.props.onImageCropped(h),e(n.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"render",value:function(){var e=this.state,t=(e.croppedImageUrl,e.src);return r.a.createElement("div",{className:"image-croper"},r.a.createElement("div",null,r.a.createElement("input",{type:"file",acfcept:"image/*",onChange:this.onSelectFile})),t&&r.a.createElement(C.a,{src:t,crop:this.props.crop,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.props.onCropChange}))}}]),t}(n.PureComponent)),y=(a(283),a(284),function(e){function t(){return Object(h.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.col,n=t.row,i=this.props.color!=={r:100,g:100,b:100}?"node-visited":"",o={backgroundColor:"rgb(".concat(this.props.color.r,", ").concat(this.props.color.g,", ").concat(this.props.color.b,")")};return r.a.createElement("div",{id:"node-".concat(n,"-").concat(a),className:"node ".concat(i),style:o,onMouseDown:function(t,a){return e.props.onMouseDown(e.props.row,e.props.col)},onMouseMove:function(t,a){return e.props.onMouseMove(e.props.row,e.props.col)}})}}]),t}(n.Component)),j=(a(285),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleMouseDown=a.handleMouseDown.bind(Object(u.a)(a)),a.handleMouseMove=a.handleMouseMove.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleMouseDown",value:function(e,t){this.props.childMouseDown(this.props.row_id,this.props.col_id,e,t)}},{key:"handleMouseMove",value:function(e,t){this.props.childMouseMove(this.props.row_id,this.props.col_id,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cube"},this.props.col.map((function(t,a){return r.a.createElement("div",{key:"div-".concat(a),className:"cube-row"},t.map((function(t,n){return r.a.createElement(y,{key:"node-".concat(a,"-").concat(n),col:n,color:t.color,onMouseDown:e.handleMouseDown,onMouseMove:e.handleMouseMove,row:a})})))})))}}]),t}(n.Component)),O=(a(286),function(e){function t(){return Object(h.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"adaptWidthHeight",value:function(){return this.props.grid_width>this.props.grid_height?{height:"".concat(this.props.grid_height/this.props.grid_width*100,"%"),width:"".concat(100,"%")}:{height:"".concat(100,"%"),width:"".concat(this.props.grid_width/this.props.grid_height*100,"%")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"grid",style:this.adaptWidthHeight(),onMouseUp:function(){return e.props.onMouseUp()}},this.props.grid.map((function(t,a){return r.a.createElement("div",{key:a,className:"grid-row"},t.map((function(n,i){return r.a.createElement(j,{key:"cube-".concat(a,"-").concat(i),row_id:a,col_id:i,row:t,col:n,childMouseDown:e.props.childMouseDown,childMouseMove:e.props.childMouseMove})})))})))}}]),t}(n.Component)),k={white:{r:255,g:255,b:255},red:{r:137,g:18,b:20},blue:{r:13,g:72,b:172},orange:{r:255,g:85,b:37},green:{r:25,g:155,b:76},yellow:{r:254,g:213,b:47}},E=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleChangeComplete=function(t){e.setState({currentColor:t.rgb})},e.handleWidthSliderChangeComplete=function(t,a){e.setState({grid_width:a})},e.handleHeightSliderChangeComplete=function(t,a){e.setState({grid_height:a})},e.handleThreshSliderChangeComplete=function(t,a){e.setState({thresh:a})},e.handleImageCropped=function(t){e.setState({imageData:t})},e.onCropChange=function(t,a){e.setState({crop:a})},e.state={grid:[],mouseIsPressed:!1,currentColor:"#fff",grid_width:3,grid_height:3,thresh:100,image:0,crop:{unit:"%",width:50,aspect:1,x:25}},e.handleMouseDown=e.handleMouseDown.bind(Object(u.a)(e)),e.handleMouseMove=e.handleMouseMove.bind(Object(u.a)(e)),e.handleMouseUp=e.handleMouseUp.bind(Object(u.a)(e)),e.handleImageCropped=e.handleImageCropped.bind(Object(u.a)(e)),e.onCropChange=e.onCropChange.bind(Object(u.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=_(this.state.grid_width,this.state.grid_height);this.setState({grid:e})}},{key:"handleMouseDown",value:function(e,t,a,n){var r=I(this.state.grid,e,t,a,n,this.state.currentColor);this.setState({grid:r,mouseIsPressed:!0})}},{key:"handleMouseMove",value:function(e,t,a,n){if(this.state.mouseIsPressed){var r=I(this.state.grid,e,t,a,n,this.state.currentColor);this.setState({grid:r})}}},{key:"handleMouseUp",value:function(){this.setState({mouseIsPressed:!1})}},{key:"canvasFilter",value:function(e,t){return a(287).Dither(e,t)}},{key:"quantizeFilter",value:function(e){for(var t,n=a(288).from(k),r=[],i=0,o=0,s=e.length;i<s;i+=4,o+=1)r[o]=(t={r:e[i],g:e[i+1],b:e[i+2]},n(t).rgb);return r}},{key:"componentDidUpdate",value:function(e,t){if((t.imageData!==this.state.imageData||t.thresh!==this.state.thresh)&&"undefined"!==String(this.state.imageData)&&"undefined"!==String(this.state.imageData.data)){var a=this.state.imageData;a=this.canvasFilter(a,this.state.thresh);var n=this.quantizeFilter(a.data),r=U(this.state.grid,this.state.grid_width,this.state.grid_height,n);this.setState({grid:r})}if(t.grid_width!==this.state.grid_width||t.grid_height!==this.state.grid_height){var i=_(this.state.grid_width,this.state.grid_height);this.setState({grid:i});var o=Object(s.a)({},this.state.crop);o.aspect=this.state.grid_width/this.state.grid_height,this.setState({crop:o})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"100px"}}),r.a.createElement("div",{className:"grid-container-box"},r.a.createElement("div",{className:"grid-container"},r.a.createElement(O,{onMouseUp:this.handleMouseUp,childMouseDown:this.handleMouseDown,childMouseMove:this.handleMouseMove,grid_height:this.state.grid_height,grid_width:this.state.grid_width,grid:this.state.grid}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(g.TwitterPicker,{colors:["#199b4c","#891214","#0d47ac","#ff5425","#ffffff","#fed52f"],color:this.state.currentColor,onChangeComplete:this.handleChangeComplete})),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"80%",margin:"auto"}},r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Width"),r.a.createElement(f.a,{defaultValue:3,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleWidthSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10}),r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Height"),r.a.createElement(f.a,{defaultValue:3,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleHeightSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10}),r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Dither"),r.a.createElement(f.a,{defaultValue:100,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleThreshSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:255})),r.a.createElement(M,{onImageCropped:this.handleImageCropped,onCropChange:this.onCropChange,crop:this.state.crop,width:3*this.state.grid_width,height:3*this.state.grid_height}))}}]),t}(n.Component),_=function(e,t){for(var a=[],n=0;n<t;n++){for(var r=[],i=0;i<e;i++)r.push(D());a.push(r)}return a},D=function(){for(var e=[],t=0;t<3;t++){for(var a=[],n=0;n<3;n++)a.push(S(n,t));e.push(a)}return e},S=function(e,t){return{col:e,row:t,color:{r:100,g:100,b:100}}},I=function(e,t,a,n,r,i){var o=e.slice(),h=o[t][a].slice(),c=h[n][r],l=Object(s.a)({},c,{color:i});return h[n][r]=l,o[t][a]=h,o},U=function(e,t,a,n){for(var r=3*t,i=2*t*3,o=3*t*3,s=e.slice(),h=0;h<a;h++)for(var c=h*o,l=0;l<t;l++){var d=3*l,u=s[h][l],p=[n.slice(c+d,c+d+3),n.slice(c+d+r,c+d+r+3),n.slice(c+d+i,c+d+i+3)];s[h][l]=x(u,p)}return s},x=function(e,t){for(var a=e.slice(),n=0;n<3;n++)for(var r=0;r<3;r++){var i=a[n][r],o=Object(s.a)({},i,{color:t[n][r]});a[n][r]=o}return a};var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.9b35ed89.chunk.js.map