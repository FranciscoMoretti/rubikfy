(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,a){e.exports=a(291)},113:function(e,t,a){},114:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),n=a(47),o=a.n(n),s=(a(113),a(114),a(34)),h=a(15),d=a(7),c=a(16),l=a(17),u=a(5),g=a(18),p=a(103),m=a(301),f=a(303),v=a(67),b=a.n(v),w=a(104),C=a.n(w),M=(a(281),a(282),function(e){function t(){var e,a;Object(h.a)(this,t);for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={src:null},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return a.setState({src:t.result})})),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"makeClientCrop",value:function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.imageRef&&e.width&&e.height)){a.next=5;break}return a.next=3,b.a.awrap(this.getCroppedImg(this.imageRef,e,"newFile.jpeg"));case 3:t=a.sent,this.setState({croppedImageUrl:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"getCroppedImg",value:function(e,t,a){var i=this,r=document.createElement("canvas"),n=e.naturalWidth/e.width,o=e.naturalHeight/e.height;r.width=t.width,r.height=t.height;var s=r.getContext("2d");s.drawImage(e,t.x*n,t.y*o,t.width*n,t.height*o,0,0,this.props.width,this.props.height);var h=s.getImageData(0,0,this.props.width,this.props.height);return new Promise((function(e,t){r.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(i.fileUrl),i.fileUrl=window.URL.createObjectURL(t),i.props.onImageCropped(h),e(i.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"render",value:function(){var e=this.state.src;return r.a.createElement("div",{className:"image-croper"},r.a.createElement("div",null,r.a.createElement("input",{type:"file",acfcept:"image/*",onChange:this.onSelectFile})),e&&r.a.createElement(C.a,{src:e,crop:this.props.crop,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.props.onCropChange}))}}]),t}(i.PureComponent)),_=(a(283),a(284),function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.col,i=t.row,n=this.props.color!=={r:100,g:100,b:100}?"node-visited":"",o={backgroundColor:"rgb(".concat(this.props.color.r,", ").concat(this.props.color.g,", ").concat(this.props.color.b,")")};return r.a.createElement("div",{id:"node-".concat(i,"-").concat(a),className:"node ".concat(n),style:o,onMouseDown:function(t,a){return e.props.onMouseDown(e.props.row,e.props.col)},onMouseMove:function(t,a){return e.props.onMouseMove(e.props.row,e.props.col)}})}}]),t}(i.Component)),y=(a(285),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleMouseDown=a.handleMouseDown.bind(Object(u.a)(a)),a.handleMouseMove=a.handleMouseMove.bind(Object(u.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleMouseDown",value:function(e,t){this.props.childMouseDown(this.props.row_id,this.props.col_id,e,t)}},{key:"handleMouseMove",value:function(e,t){this.props.childMouseMove(this.props.row_id,this.props.col_id,e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cube"},this.props.col.map((function(t,a){return r.a.createElement("div",{key:"div-".concat(a),className:"cube-row"},t.map((function(t,i){return r.a.createElement(_,{key:"node-".concat(a,"-").concat(i),col:i,color:t.color,onMouseDown:e.handleMouseDown,onMouseMove:e.handleMouseMove,row:a})})))})))}}]),t}(i.Component)),j=(a(286),function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"adaptWidthHeight",value:function(){return this.props.grid_width>this.props.grid_height?{height:"".concat(this.props.grid_height/this.props.grid_width*100,"%"),width:"".concat(100,"%")}:{height:"".concat(100,"%"),width:"".concat(this.props.grid_width/this.props.grid_height*100,"%")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"grid",style:this.adaptWidthHeight(),onMouseUp:function(){return e.props.onMouseUp()}},this.props.grid.map((function(t,a){return r.a.createElement("div",{key:a,className:"grid-row"},t.map((function(i,n){return r.a.createElement(y,{key:"cube-".concat(a,"-").concat(n),row_id:a,col_id:n,row:t,col:i,childMouseDown:e.props.childMouseDown,childMouseMove:e.props.childMouseMove})})))})))}}]),t}(i.Component)),O={white:{r:255,g:255,b:255},red:{r:137,g:18,b:20},blue:{r:13,g:72,b:172},orange:{r:255,g:85,b:37},green:{r:25,g:155,b:76},yellow:{r:254,g:213,b:47}},D=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).handleChangeComplete=function(t){e.setState({currentColor:t.rgb})},e.handleWidthSliderChangeComplete=function(t,a){e.setState({grid_width:a})},e.handleHeightSliderChangeComplete=function(t,a){e.setState({grid_height:a})},e.handleThreshSliderChangeComplete=function(t,a){e.setState({thresh:a})},e.handleImage1Cropped=function(t){e.setState({image1Data:t})},e.handleImage2Cropped=function(t){e.setState({image2Data:t})},e.onCrop1Change=function(t,a){e.setState({crop1:a})},e.onCrop2Change=function(t,a){e.setState({crop2:a})},e.state={grid1:[],grid2:[],mouseIsPressed:!1,currentColor:"#fff",grid_width:3,grid_height:3,thresh:100,crop1:{unit:"%",width:50,aspect:1,x:25},crop2:{unit:"%",width:50,aspect:1,x:25}},e.handleMouseDownGrid1=e.handleMouseDownGrid1.bind(Object(u.a)(e)),e.handleMouseDownGrid2=e.handleMouseDownGrid2.bind(Object(u.a)(e)),e.handleMouseMoveGrid1=e.handleMouseMoveGrid1.bind(Object(u.a)(e)),e.handleMouseMoveGrid2=e.handleMouseMoveGrid2.bind(Object(u.a)(e)),e.handleMouseUp=e.handleMouseUp.bind(Object(u.a)(e)),e.handleImage1Cropped=e.handleImage1Cropped.bind(Object(u.a)(e)),e.handleImage2Cropped=e.handleImage2Cropped.bind(Object(u.a)(e)),e.onCrop1Change=e.onCrop1Change.bind(Object(u.a)(e)),e.onCrop2Change=e.onCrop2Change.bind(Object(u.a)(e)),e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=E(this.state.grid_width,this.state.grid_height);this.setState({grid1:e});var t=E(this.state.grid_width,this.state.grid_height);this.setState({grid2:t})}},{key:"handleMouseDownGrid1",value:function(e,t,a,i){var r=I(this.state.grid1,e,t,a,i,this.state.currentColor);this.setState({grid1:r,mouseIsPressed:!0})}},{key:"handleMouseDownGrid2",value:function(e,t,a,i){var r=I(this.state.grid2,e,t,a,i,this.state.currentColor);this.setState({grid2:r,mouseIsPressed:!0})}},{key:"handleMouseMoveGrid1",value:function(e,t,a,i){if(this.state.mouseIsPressed){var r=I(this.state.grid1,e,t,a,i,this.state.currentColor);this.setState({grid1:r})}}},{key:"handleMouseMoveGrid2",value:function(e,t,a,i){if(this.state.mouseIsPressed){var r=I(this.state.grid2,e,t,a,i,this.state.currentColor);this.setState({grid2:r})}}},{key:"handleMouseUp",value:function(){this.setState({mouseIsPressed:!1})}},{key:"canvasFilter",value:function(e,t){return a(287).Dither(e,t)}},{key:"quantizeFilter",value:function(e){for(var t,i=a(288).from(O),r=[],n=0,o=0,s=e.length;n<s;n+=4,o+=1)r[o]=(t={r:e[n],g:e[n+1],b:e[n+2]},i(t).rgb);return r}},{key:"componentDidUpdate",value:function(e,t){if((t.image1Data!==this.state.image1Data||t.thresh!==this.state.thresh)&&"undefined"!==String(this.state.image1Data)&&"undefined"!==String(this.state.image1Data.data)){var a=this.state.image1Data;a=this.canvasFilter(a,this.state.thresh);var i=this.quantizeFilter(a.data),r=U(this.state.grid1,this.state.grid_width,this.state.grid_height,i);this.setState({grid1:r})}if((t.image2Data!==this.state.image2Data||t.thresh!==this.state.thresh)&&"undefined"!==String(this.state.image2Data)&&"undefined"!==String(this.state.image2Data.data)){a=this.state.image2Data;a=this.canvasFilter(a,this.state.thresh);i=this.quantizeFilter(a.data);var n=U(this.state.grid2,this.state.grid_width,this.state.grid_height,i);this.setState({grid2:n})}if(t.grid_width!==this.state.grid_width||t.grid_height!==this.state.grid_height){var o=E(this.state.grid_width,this.state.grid_height);this.setState({grid1:o});var h=E(this.state.grid_width,this.state.grid_height);this.setState({grid2:h});var d=Object(s.a)({},this.state.crop1);d.aspect=this.state.grid_width/this.state.grid_height,this.setState({crop1:d});var c=Object(s.a)({},this.state.crop2);c.aspect=this.state.grid_width/this.state.grid_height,this.setState({crop2:c})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(p.TwitterPicker,{colors:["#199b4c","#891214","#0d47ac","#ff5425","#ffffff","#fed52f"],color:this.state.currentColor,onChangeComplete:this.handleChangeComplete,triangle:"hide"})),r.a.createElement("br",null),r.a.createElement("div",{className:"multi-grid-container"},r.a.createElement("div",{className:"grid-container-box"},r.a.createElement("div",{className:"grid-container"},r.a.createElement(j,{onMouseUp:this.handleMouseUp,childMouseDown:this.handleMouseDownGrid1,childMouseMove:this.handleMouseMoveGrid1,grid_height:this.state.grid_height,grid_width:this.state.grid_width,grid:this.state.grid1}))),r.a.createElement("div",{className:"grid-container-box"},r.a.createElement("div",{className:"grid-container"},r.a.createElement(j,{onMouseUp:this.handleMouseUp,childMouseDown:this.handleMouseDownGrid2,childMouseMove:this.handleMouseMoveGrid2,grid_height:this.state.grid_height,grid_width:this.state.grid_width,grid:this.state.grid2})))),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"80%",margin:"auto"}},r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Width"),r.a.createElement(f.a,{defaultValue:3,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleWidthSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10}),r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Height"),r.a.createElement(f.a,{defaultValue:3,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleHeightSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10}),r.a.createElement(m.a,{id:"discrete-slider",gutterBottom:!0},"Dither"),r.a.createElement(f.a,{defaultValue:100,"aria-labelledby":"discrete-slider",onChangeCommitted:this.handleThreshSliderChangeComplete,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:255})),r.a.createElement("br",null),r.a.createElement("div",{className:"multi-crop-container"},r.a.createElement(M,{onImageCropped:this.handleImage1Cropped,onCropChange:this.onCrop1Change,crop:this.state.crop1,width:3*this.state.grid_width,height:3*this.state.grid_height}),r.a.createElement(M,{onImageCropped:this.handleImage2Cropped,onCropChange:this.onCrop2Change,crop:this.state.crop2,width:3*this.state.grid_width,height:3*this.state.grid_height})))}}]),t}(i.Component),E=function(e,t){for(var a=[],i=0;i<t;i++){for(var r=[],n=0;n<e;n++)r.push(k());a.push(r)}return a},k=function(){for(var e=[],t=0;t<3;t++){for(var a=[],i=0;i<3;i++)a.push(S(i,t));e.push(a)}return e},S=function(e,t){return{col:e,row:t,color:{r:100,g:100,b:100}}},I=function(e,t,a,i,r,n){var o=e.slice(),h=o[t][a].slice(),d=h[i][r],c=Object(s.a)({},d,{color:n});return h[i][r]=c,o[t][a]=h,o},U=function(e,t,a,i){for(var r=3*t,n=2*t*3,o=3*t*3,s=e.slice(),h=0;h<a;h++)for(var d=h*o,c=0;c<t;c++){var l=3*c,u=s[h][c],g=[i.slice(d+l,d+l+3),i.slice(d+l+r,d+l+r+3),i.slice(d+l+n,d+l+n+3)];s[h][c]=G(u,g)}return s},G=function(e,t){for(var a=e.slice(),i=0;i<3;i++)for(var r=0;r<3;r++){var n=a[i][r],o=Object(s.a)({},n,{color:t[i][r]});a[i][r]=o}return a};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.ce8cb6e7.chunk.js.map